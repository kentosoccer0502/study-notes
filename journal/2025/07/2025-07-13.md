# 📅 2025-07-13 (日曜日)

## ✅ 今日やったこと

- Recursion
  - スコープ
    - 副作用
    - 値渡しと参照渡し
    - 静的・スタック・ヒープメモリ
  - 制御
- Practice Codes
  - [redirectionUrl](/journal/2025/07/practice_codes/redirectionUrl.ts)
  - [planetGravity](/journal/2025/07/practice_codes/planetGravity.ts)
  - [screenViewMode](/journal/2025/07/practice_codes/screenViewMode.ts)
  - [interestsPaid](/journal/2025/07/practice_codes/interestsPaid.ts)
    - [AI Code Review](/journal/2025/07/ai_code_review/interestsPaid.md)

## ◽️ 気づき・メモ

- ローカルスコープの処理をする時
  - コンピュータはそのスコープに必要なスペースをメモリに作成する
  - 関数の呼び出しに作られたローカルスコープ内の変数などは一時的にメモリに保存される
    - ただ、関数の処理が終了すると自動的に破棄される！
- グローバルスコープは**常にメモリ上に存在する！**
  - なので、プログラム全体が終了するまでグローバル変数などはメモリ上に残り続ける
  - **グローバル変数を使う時は、絶対にその変数が必要な場合、あるいは非常に小さなプログラムでのみ使うように心がけるべき**
- エラーの種類
  - シンタックスエラー（構文エラー）
    - コード内の文法エラー
  - 論理エラー
    - プログラムは正しくコンパイルされているが、意図した通りの動作になっていない状態
    - いわゆる「バグ」と言われるもの。
      - 原因特定が難しい。。。
- 副作用
  - 「どこかにある何かを、知らず知らずのうちに変容させてしまっている」こと
    - 例）変数の値を変えてしまった。。
- 値渡し
  - 実引数の**値のコピー**が仮引数に格納される
    - ※変数はメモリ上のセルに格納されている
    - ※基本昨今のプログラミング言語は値渡し
- 参照渡し

  - 実引数の**メモリアドレス**が仮引数に渡される
    - つまり 2 つの変数が同じメモリの場所を見るようになる
      - なので、片方の変数が変更されたら、もう片方の変数の値も変わる　 → **副作用あり！！**

- メモリの割り当て
  - 変数、データ構造、クラスインスタンスなどの値を格納するために、メモリ上の特定の領域を確保するためのプロセス
    - これによりプログラムは必要に応じてこれらの値にアクセスし操作することが可能
- メモリの割り当ての方法
  - 1. 静的メモリ割り当て
    - プログラムが実行される前のコンパイル時に実行される方法
    - 割り当てされるサイズは固定
    - プログラムの開始〜終了まで保持される
      - グローバル変数と同じ
  - 2. スタックメモリ割り当て
    - コンピュータが関数を呼び出すたびに新しいメモリスペースを確保する方法
      - コールスタックに一時的に保存される
      - 関数で使用する変数のデータが格納される
    - スコープが終了すると、変数とそのデータは削除されて、そのスタック領域は再利用される
    - 変数の有効期間はスコープに制限されるので、**自動メモリ割り当て**と呼ばれる
  - 3. ヒープメモリ割り当て
    - プログラマーが明示的にメモリの割り当てができるメモリ領域（スタックメモリ割り当ては自動で割り当てできるメモリ領域で、プログラマーは制御不可能）
    - **動的メモリ割り当て**
    - メモリを割り当てるのに`new`や`malloc`と呼ばれるキーワードや関数が使用される
    - そのサイズもプログラマーが指定できる
    - `二分木`や`連結リスト`のような動的なデータ構造を格納するために使用される
    - 任意の順序でアクセス可能
    - スタックメモリとヒープメモリは完全に分離されている
      - なので、ヒープメモリは自動で削除されたりはされず、ユーザが明示的に削除などをしないといけない。また削除しない限りメモリのアドレスを知っていればどこからでもアクセス可能
    - **問題点:**
      - メモリの割り当てをユーザ管理する責任がある。。。
        - ユーザが削除し忘れたら。。。そのメモリが二度と使われない（**メモリリーク**）が発生しちゃう　 → メモリの性能劣化につながる
        - ただ、C や C++のようなメモリを制御できる言語以外の場合はインタプリタやコンパイラが制御してくれるので、基本的にあまり気にしなくて良い！
        - 使用しなくなったメモリをヒープメモリから自動的に削除する処理は、**ガベージコレクタ**と呼ばれており、メモリリークを避けるために多くのアルゴリズムで実行されるらしい
    - ヒープメモリを自動的に管理する言語では上記の問題点をあまり気にしなくて良い。
      - ヒープメモリの管理は自動的に行われるため。
      - データがどこに保存され、それがスタックなのかヒープなのかを意識するだけで基本的には良い！！！

## ◽️ 疑問・後で調べたい

-

## ◽️ 感想・ふりかえり

- X
